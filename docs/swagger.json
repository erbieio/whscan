{
    "swagger": "2.0",
    "info": {
        "description": "区块链监控程序后端",
        "title": "Gin swagger",
        "contact": {},
        "version": "1.0"
    },
    "paths": {
        "/block/getBlock": {
            "get": {
                "description": "查询区块",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "区块查询"
                ],
                "summary": "查询区块",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/block.GetBlockReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/block.GetBlockRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/block.ErrRes"
                        }
                    }
                }
            }
        },
        "/block/getTransaction": {
            "get": {
                "description": "查询交易",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "区块查询"
                ],
                "summary": "查询交易",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/block.GetTxReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/block.GetTxRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/block.ErrRes"
                        }
                    }
                }
            }
        },
        "/block/getTransactionLogs": {
            "get": {
                "description": "查询收据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "区块查询"
                ],
                "summary": "查询收据",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/block.GetTxReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/block.GetReceiptsRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/block.ErrRes"
                        }
                    }
                }
            }
        },
        "/block/viewBlocks": {
            "get": {
                "description": "查询区块列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "区块查询"
                ],
                "summary": "查询区块列表",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/block.PageReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/block.ViewBlocksRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/block.ErrRes"
                        }
                    }
                }
            }
        },
        "/block/viewTransactions": {
            "get": {
                "description": "查询交易列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "区块查询"
                ],
                "summary": "查询交易列表",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/block.TxPageReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/block.ViewTxsRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/block.ErrRes"
                        }
                    }
                }
            }
        },
        "/exchanger/get": {
            "get": {
                "description": "按地址查询交易所",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "交易所"
                ],
                "summary": "查询交易所",
                "parameters": [
                    {
                        "type": "string",
                        "description": "交易所地址",
                        "name": "addr",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/database.Exchanger"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exchanger.ErrRes"
                        }
                    }
                }
            }
        },
        "/exchanger/page": {
            "get": {
                "description": "按创建时间逆序查询交易所列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "交易所"
                ],
                "summary": "查询交易所列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "交易所名称,空则查询所有交易所",
                        "name": "name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页,默认1",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页大小,默认10",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/exchanger.PageRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/exchanger.ErrRes"
                        }
                    }
                }
            }
        },
        "/extra/checkAuth": {
            "get": {
                "description": "查询交易所状态",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "其他接口"
                ],
                "summary": "查询交易所状态",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/extra.CheckAuthReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/extra.CheckAuthRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/extra.ErrRes"
                        }
                    }
                }
            }
        },
        "/extra/requestErbTest": {
            "get": {
                "description": "请求ERB测试币",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "其他接口"
                ],
                "summary": "请求ERB测试币",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/extra.RequestErbTestReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/extra.RequestErbTestRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/extra.ErrRes"
                        }
                    }
                }
            }
        },
        "/nft/page": {
            "get": {
                "description": "按创建时间逆序查询NFT列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "summary": "查询NFT列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "交易所，空则查询所有交易所",
                        "name": "exchanger",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "所有者,空则查询所有",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页,默认1",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页大小,默认10",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/NFT.PageRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/NFT.ErrRes"
                        }
                    }
                }
            }
        },
        "/nft/tx/page": {
            "get": {
                "description": "按创建时间逆序查询NFT交易列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "summary": "查询NFT交易列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "交易所，空则查询所有交易所",
                        "name": "exchanger",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "指定帐户,空则查询所有帐户的",
                        "name": "account",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页,默认1",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页大小,默认10",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/NFT.PageTxRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/NFT.ErrRes"
                        }
                    }
                }
            }
        },
        "/snft/block": {
            "get": {
                "description": "查询指定区块的SNFT奖励列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "SNFT"
                ],
                "summary": "查询区块SNFT列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "区块号",
                        "name": "number",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/database.SNFT"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/SNFT.ErrRes"
                        }
                    }
                }
            }
        },
        "/snft/page": {
            "get": {
                "description": "按创建时间逆序查询SNFT列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "SNFT"
                ],
                "summary": "查询SNFT列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "所有者,空则查询所有",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页,默认1",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页大小,默认10",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/SNFT.PageRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/SNFT.ErrRes"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "NFT.ErrRes": {
            "type": "object",
            "properties": {
                "err_str": {
                    "description": "错误字符串",
                    "type": "string"
                }
            }
        },
        "NFT.PageRes": {
            "type": "object",
            "properties": {
                "nfts": {
                    "description": "NFT列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.UserNFT"
                    }
                },
                "total": {
                    "description": "NFT总数",
                    "type": "integer"
                }
            }
        },
        "NFT.PageTxRes": {
            "type": "object",
            "properties": {
                "nft_txs": {
                    "description": "NFT交易列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.NFTTx"
                    }
                },
                "total": {
                    "description": "NFT总数",
                    "type": "integer"
                }
            }
        },
        "SNFT.ErrRes": {
            "type": "object",
            "properties": {
                "err_str": {
                    "description": "错误字符串",
                    "type": "string"
                }
            }
        },
        "SNFT.PageRes": {
            "type": "object",
            "properties": {
                "nfts": {
                    "description": "SNFT列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.SNFT"
                    }
                },
                "total": {
                    "description": "SNFT总数",
                    "type": "integer"
                }
            }
        },
        "block.ErrRes": {
            "type": "object",
            "properties": {
                "err": {
                    "description": "错误信息",
                    "type": "string"
                }
            }
        },
        "block.GetBlockReq": {
            "type": "object",
            "properties": {
                "block_number": {
                    "description": "区块号",
                    "type": "string"
                }
            }
        },
        "block.GetBlockRes": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "$ref": "#/definitions/database.Block"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "block.GetReceiptsRes": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.TxLog"
                    }
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "block.GetTxReq": {
            "type": "object",
            "properties": {
                "tx_hash": {
                    "description": "交易hash",
                    "type": "string"
                }
            }
        },
        "block.GetTxRes": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "$ref": "#/definitions/database.Transaction"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "block.PageReq": {
            "type": "object",
            "properties": {
                "page": {
                    "description": "页",
                    "type": "integer"
                },
                "page_size": {
                    "description": "页码",
                    "type": "integer"
                }
            }
        },
        "block.TxPageReq": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "地址 不区分传 \"\"",
                    "type": "string"
                },
                "block_number": {
                    "description": "区块号 不区分",
                    "type": "string"
                },
                "page": {
                    "description": "页",
                    "type": "integer"
                },
                "page_size": {
                    "description": "页码",
                    "type": "integer"
                },
                "tx_type": {
                    "description": "交易类型  如ERC20  ERC1155 ERC721  internal  不区分传\"\"",
                    "type": "string"
                }
            }
        },
        "block.ViewBlocksRes": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.Block"
                    }
                },
                "msg": {
                    "type": "string"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "block.ViewTxsRes": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.Transaction"
                    }
                },
                "msg": {
                    "type": "string"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "database.Block": {
            "type": "object",
            "properties": {
                "difficulty": {
                    "type": "string"
                },
                "extraData": {
                    "type": "string"
                },
                "gasLimit": {
                    "type": "string"
                },
                "gasUsed": {
                    "type": "string"
                },
                "miner": {
                    "type": "string"
                },
                "mixHash": {
                    "type": "string"
                },
                "number": {
                    "type": "string"
                },
                "parentHash": {
                    "type": "string"
                },
                "receiptsRoot": {
                    "type": "string"
                },
                "sha3Uncles": {
                    "type": "string"
                },
                "size": {
                    "type": "string"
                },
                "stateRoot": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "string"
                },
                "transactionsRoot": {
                    "type": "string"
                },
                "tx_count": {
                    "type": "integer"
                }
            }
        },
        "database.Exchanger": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "交易所地址",
                    "type": "string"
                },
                "block_number": {
                    "description": "创建时的区块号",
                    "type": "integer"
                },
                "creator": {
                    "description": "创建者地址",
                    "type": "string"
                },
                "fee_ratio": {
                    "description": "手续费率,单位万分之一",
                    "type": "integer"
                },
                "is_open": {
                    "description": "是否开启中",
                    "type": "boolean"
                },
                "name": {
                    "description": "交易所名称",
                    "type": "string"
                },
                "nft_count": {
                    "description": "NFT总数，批量查询的此字段无效",
                    "type": "integer"
                },
                "timestamp": {
                    "description": "开启时间",
                    "type": "integer"
                },
                "tx_hash": {
                    "description": "创建的交易",
                    "type": "string"
                },
                "url": {
                    "description": "交易所URL",
                    "type": "string"
                }
            }
        },
        "database.NFTTx": {
            "type": "object",
            "properties": {
                "exchanger_addr": {
                    "description": "交易所地址",
                    "type": "string"
                },
                "from": {
                    "description": "卖家",
                    "type": "string"
                },
                "nft_addr": {
                    "description": "交易的NFT地址",
                    "type": "string"
                },
                "price": {
                    "description": "价格,单位为wei",
                    "type": "string"
                },
                "timestamp": {
                    "description": "交易时间戳",
                    "type": "integer"
                },
                "to": {
                    "description": "买家",
                    "type": "string"
                },
                "tx_hash": {
                    "description": "交易哈希",
                    "type": "string"
                },
                "tx_type": {
                    "description": "交易类型,1：转移、2:出价成交、3:定价购买、4：惰性定价购买、5：惰性定价购买、6：出价成交、7：惰性出价成交、8：撮合交易",
                    "type": "integer"
                }
            }
        },
        "database.SNFT": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "SNFT地址",
                    "type": "string"
                },
                "awardee": {
                    "description": "被奖励的矿工获地址",
                    "type": "string"
                },
                "create_at": {
                    "description": "创建时间戳",
                    "type": "integer"
                },
                "create_number": {
                    "description": "创建的区块高度",
                    "type": "integer"
                },
                "creator": {
                    "description": "创建者地址",
                    "type": "string"
                },
                "meta_url": {
                    "description": "元信息链接",
                    "type": "string"
                },
                "owner": {
                    "description": "所有者,未分配和回收的为null",
                    "type": "string"
                },
                "reward_at": {
                    "description": "奖励时间戳,矿工被奖励这个SNFT的时间",
                    "type": "integer"
                },
                "reward_number": {
                    "description": "奖励区块高度,矿工被奖励这个SNFT的区块高度",
                    "type": "integer"
                },
                "royalty_ratio": {
                    "description": "版税费率,单位万分之一",
                    "type": "integer"
                }
            }
        },
        "database.Transaction": {
            "type": "object",
            "properties": {
                "blockHash": {
                    "type": "string"
                },
                "blockNumber": {
                    "type": "string"
                },
                "from": {
                    "type": "string"
                },
                "gas": {
                    "type": "string"
                },
                "gasPrice": {
                    "type": "string"
                },
                "hash": {
                    "type": "string"
                },
                "input": {
                    "type": "string"
                },
                "internal_calls": {
                    "type": "string"
                },
                "internal_value_transfer": {
                    "type": "string"
                },
                "nonce": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                },
                "token_transfer": {
                    "type": "string"
                },
                "transactionIndex": {
                    "type": "string"
                },
                "tx_type": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "database.TxLog": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "data": {
                    "type": "string"
                },
                "topics": {
                    "type": "string"
                },
                "tx_hash": {
                    "type": "string"
                }
            }
        },
        "database.UserNFT": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "NFT地址",
                    "type": "string"
                },
                "block_number": {
                    "description": "创建的区块高度",
                    "type": "integer"
                },
                "creator": {
                    "description": "创建者地址",
                    "type": "string"
                },
                "exchanger_addr": {
                    "description": "所在交易所地址,没有的可以在任意交易所交易",
                    "type": "string"
                },
                "meta_url": {
                    "description": "元信息URL",
                    "type": "string"
                },
                "owner": {
                    "description": "所有者",
                    "type": "string"
                },
                "royalty_ratio": {
                    "description": "版税费率,单位万分之一",
                    "type": "integer"
                },
                "timestamp": {
                    "description": "创建时间戳",
                    "type": "integer"
                },
                "tx_hash": {
                    "description": "创建的交易哈希",
                    "type": "string"
                }
            }
        },
        "exchanger.ErrRes": {
            "type": "object",
            "properties": {
                "err_str": {
                    "description": "错误字符串",
                    "type": "string"
                }
            }
        },
        "exchanger.PageRes": {
            "type": "object",
            "properties": {
                "exchangers": {
                    "description": "交易所列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.Exchanger"
                    }
                },
                "total": {
                    "description": "交易所总数",
                    "type": "integer"
                },
                "yesterday_total": {
                    "description": "昨日新开交易所数量",
                    "type": "integer"
                }
            }
        },
        "extra.CheckAuthReq": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "地址",
                    "type": "string"
                }
            }
        },
        "extra.CheckAuthRes": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "0 成功  1 地址有误 其他失败",
                    "type": "integer"
                },
                "data": {
                    "$ref": "#/definitions/extra.CheckAuthResData"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "extra.CheckAuthResData": {
            "type": "object",
            "properties": {
                "exchanger_balance": {
                    "type": "string"
                },
                "exchanger_flag": {
                    "type": "boolean"
                },
                "status": {
                    "description": "2 交易所付费状态正常  其他数字为欠费或者没交费",
                    "type": "integer"
                }
            }
        },
        "extra.ErrRes": {
            "type": "object",
            "properties": {
                "err": {
                    "description": "错误信息",
                    "type": "string"
                }
            }
        },
        "extra.RequestErbTestReq": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "地址",
                    "type": "string"
                }
            }
        },
        "extra.RequestErbTestRes": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "0 成功  1 地址有误 其他失败",
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                }
            }
        }
    }
}